input_file = File.open("data.txt")
input_data = input_file.read

def mul(a,b)
  a * b
end

do_array = []
dont_array = []

# Split up the input data into parts that begin with "do()" and end when they get to a "don't()"
input_data.scan(/do\(\).*?(?=don't\(\))/m) do |match|
  do_array.push(match)
end 

puts do_array

# Join the array into a string because an array cannot be scanned
do_array = do_array.join(" ")

multiplications = []
total = []

do_array.scan(/mul\(\d{1,3},\d{1,3}\)/) do |match|
  multiplications.push(match)

  numbers = match.scan(/\d+/).map(&:to_i)

  # Call the mul function with the extracted numbers
  results = mul(numbers[0], numbers[1])

  # Add the result together 
  # turning results into an array to use sum
  total.push(results)
end 

# puts total.sum

# 85999401 // answer is too low 
# 86751331 too low

# mul(323,598)
# mul(933,97)
# mul(864,562)
# mul(63,747)
# mul(514,101)
# mul(53,731)
# mul(899,858)
# mul(402,353)
# mul(4,41)
# mul(505,942)
# mul(233,284)
# mul(484,956)
# mul(243,698)
# mul(153,970)
# mul(176,383)
# mul(322,492)
# mul(212,356)
# mul(138,847)
# mul(128,454)
# mul(650,981)
# mul(149,431)
# mul(806,218)
# mul(669,489)
# mul(596,973)
# mul(990,349)
# mul(684,303)
# mul(358,267)
# mul(819,988)
# mul(67,603)
# mul(753,49)
# mul(15,553)
# mul(389,307)
# mul(864,97)
# mul(322,599)
# mul(109,985)
# mul(894,431)
# mul(540,913)
# mul(411,407)
# mul(590,166)
# mul(664,994)
# mul(384,184)
# mul(113,201)
# mul(634,407)
# mul(649,20)
# mul(586,611)
# mul(797,330)
# mul(409,692)
# mul(414,374)
# mul(763,870)
# mul(980,975)
# mul(585,478)
# mul(4,668)
# mul(931,511)
# mul(356,478)
# mul(933,523)
# mul(616,605)
# mul(869,274)
# mul(15,936)
# mul(297,842)
# mul(961,553)
# mul(35,851)
# mul(574,127)
# mul(107,604)
# mul(496,778)
# mul(980,829)
# mul(278,194)
# mul(873,684)
# mul(684,81)
# mul(286,481)
# mul(788,53)
# mul(376,887)
# mul(205,369)
# mul(260,802)
# mul(572,800)
# mul(379,398)
# mul(275,735)
# mul(811,330)
# mul(27,53)
# mul(810,378)
# mul(436,174)
# mul(576,189)
# mul(17,24)
# mul(967,50)
# mul(619,399)
# mul(926,910)
# mul(790,450)
# mul(652,66)
# mul(330,386)
# mul(746,507)
# mul(936,547)
# mul(698,306)
# mul(810,111)
# mul(639,6)
# mul(530,398)
# mul(664,297)
# mul(521,918)
# mul(993,640)
# mul(555,779)
# mul(802,307)
# mul(428,846)
# mul(914,333)
# mul(132,678)
# mul(360,826)
# mul(726,716)
# mul(204,647)
# mul(347,78)
# mul(708,962)
# mul(946,615)
# mul(27,707)
# mul(734,74)
# mul(889,356)
# mul(875,327)
# mul(887,395)
# mul(445,826)
# mul(325,137)
# mul(61,520)
# mul(909,277)
# mul(155,72)
# mul(636,58)
# mul(963,11)
# mul(675,549)
# mul(195,909)
# mul(682,842)
# mul(303,732)
# mul(709,34)
# mul(32,411)
# mul(719,917)
# mul(77,946)
# mul(273,971)
# mul(583,407)
# mul(360,886)
# mul(398,130)
# mul(750,896)
# mul(95,159)
# mul(749,897)
# mul(415,582)
# mul(568,507)
# mul(850,931)
# mul(909,10)
# mul(654,569)
# mul(416,33)
# mul(384,73)
# mul(601,75)
# mul(186,890)
# mul(441,730)
# mul(781,347)
# mul(412,933)
# mul(623,492)
# mul(915,36)
# mul(855,275)
# mul(546,43)
# mul(256,937)
# mul(720,847)
# mul(530,714)
# mul(442,992)
# mul(199,836)
# mul(133,954)
# mul(807,810)
# mul(967,241)
# mul(931,561)
# mul(536,241)
# mul(823,497)
# mul(948,731)
# mul(135,70)
# mul(961,883)
# mul(204,272)
# mul(399,973)
# mul(183,122)
# mul(509,262)
# mul(42,399)
# mul(530,643)
# mul(798,926)
# mul(777,171)
# mul(609,27)
# mul(294,233)
# mul(46,352)
# mul(678,93)
# mul(778,76)
# mul(992,739)
# mul(233,391)
# mul(622,255)
# mul(663,547)
# mul(679,190)
# mul(95,93)
# mul(347,816)
# mul(69,7)
# mul(679,759)
# mul(985,484)
# mul(374,224)
# mul(356,351)
# mul(386,988)
# mul(403,987)
# mul(934,779)
# mul(534,4)
# mul(845,463)
# mul(396,175)
# mul(797,149)
# mul(373,499)
# mul(908,215)
# mul(735,220)
# mul(420,264)
# mul(648,648)
# mul(484,535)
# mul(827,744)
# mul(318,590)
# mul(72,338)
# mul(958,295)
# mul(248,108)
# mul(845,24)
# mul(962,333)
# mul(228,773)
# mul(65,412)
# mul(802,950)
# mul(903,520)
# mul(819,46)
# mul(175,633)
# mul(502,869)
# mul(625,448)
# mul(640,501)
# mul(393,184)
# mul(855,937)
# mul(658,584)
# mul(510,392)
# mul(972,965)
# mul(199,39)
# mul(258,651)
# mul(629,994)
# mul(243,235)
# mul(927,670)
# mul(925,133)
# mul(958,626)
# mul(51,760)
# mul(24,628)
# mul(494,429)
# mul(556,60)
# mul(448,594)
# mul(133,200)
# mul(874,680)
# mul(296,249)
# mul(499,678)
# mul(960,503)
# mul(837,497)
# mul(865,181)
# mul(964,213)
# mul(740,725)
# mul(842,760)
# mul(595,90)
# mul(909,994)
# mul(759,848)
# mul(358,256)
# mul(539,814)
# mul(484,815)
# mul(886,584)
# mul(760,394)
# mul(346,151)
# mul(912,435)
# mul(701,360)
# mul(312,786)
# mul(468,133)
# mul(38,161)
# mul(495,220)
# mul(613,935)
# mul(340,241)
# mul(630,76)
# mul(146,728)
# mul(58,368)
# mul(682,975)
# mul(703,165)
# mul(140,504)
# mul(44,577)
# mul(741,451)
# mul(812,268)
# mul(279,497)
# mul(261,969)
# mul(361,865)
# mul(215,665)
# mul(93,869)
# mul(407,518)
# mul(935,102)
# mul(810,478)
# mul(13,154)
# mul(359,474)
# mul(463,300)
# mul(307,632)
# mul(262,328)
# mul(613,198)
# mul(681,692)
# mul(353,806)
# mul(416,977)
# mul(884,458)
# mul(874,485)
# mul(645,937)
# mul(826,39)
# mul(286,200)
# mul(615,866)
# mul(41,606)
# mul(135,4)
# mul(815,919)
# mul(713,155)
# mul(267,443)
# mul(468,369)
# mul(331,55)
# mul(41,984)
# mul(732,731)
# mul(96,453)
# mul(45,369)
# mul(403,541)
# mul(826,845)
# mul(276,52)
# mul(16,709)
# mul(169,255)
# mul(516,193)
# mul(809,866)
# mul(802,497)
# mul(353,83)
# mul(753,747)
# mul(990,592)
# mul(47,486)
# mul(52,937)
# mul(75,204)
# mul(990,863)
# mul(619,79)
# mul(829,598)
# mul(551,424)
# mul(566,613)
# mul(881,853)
# mul(443,62)
# mul(681,681)
# mul(41,909)
# mul(901,496)
# mul(110,732)
# mul(340,118)
# mul(548,352)
# mul(332,232)
# mul(479,27)
# mul(842,516)